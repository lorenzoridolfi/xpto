{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Synthetic User Profile",
  "description": "A single synthetic user profile, combining explicit (derived) attributes and AI-inferred enrichments.",
  "type": "object",
  "properties": {
    "user_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for this synthetic user.",
      "field_origin": "derived"
    },
    "segment_label": {
      "type": "object",
      "description": "Financial segment to which this user belongs.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "string",
          "enum": [
            "Planejadores",
            "Poupadores",
            "Materialistas",
            "Batalhadores",
            "Céticos",
            "Endividados"
          ]
        },
        "source": {
          "type": "string",
          "description": "Data source for the segment label (e.g., IBGE/2023)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "philosophy": {
      "type": "object",
      "description": "User’s primary philosophy about money.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "string",
          "enum": ["Multiplicar", "Guardar", "Gastar", "Ganhar", "Evitar", "Pagar"]
        },
        "source": {
          "type": "string",
          "description": "Data source (e.g., Serasa/2024)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "monthly_income": {
      "type": "object",
      "description": "User’s monthly income in BRL.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "number",
          "minimum": 0
        },
        "source": {
          "type": "string",
          "description": "Data source (e.g., IBGE/2023)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "education_level": {
      "type": "object",
      "description": "User’s highest educational attainment.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "string",
          "enum": ["Ensino Fundamental", "Ensino Médio", "Superior Completo"]
        },
        "source": {
          "type": "string",
          "description": "Data source (e.g., IBGE/2023)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "occupation": {
      "type": "object",
      "description": "User’s occupation or employment type.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "string"
        },
        "source": {
          "type": "string",
          "description": "Data source (e.g., IBGE/2023)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "uses_traditional_bank": {
      "type": "object",
      "description": "Whether the user uses a traditional (brick-and-mortar) bank.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "boolean"
        },
        "source": {
          "type": "string",
          "description": "Probabilistic source (e.g., FEBRABAN/2024)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "uses_digital_bank": {
      "type": "object",
      "description": "Whether the user uses a digital (online-only) bank.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "boolean"
        },
        "source": {
          "type": "string",
          "description": "Probabilistic source (e.g., FEBRABAN/2024)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "uses_broker": {
      "type": "object",
      "description": "Whether the user uses an investment brokerage or platform.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "boolean"
        },
        "source": {
          "type": "string",
          "description": "Probabilistic source (e.g., ANBIMA/2024)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "savings_frequency_per_month": {
      "type": "object",
      "description": "Number of times per month the user sets aside savings.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "number",
          "minimum": 0
        },
        "source": {
          "type": "string",
          "description": "Data source (e.g., Serasa/2024)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "spending_behavior": {
      "type": "object",
      "description": "User’s typical spending behavior classification.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "string",
          "enum": ["cautious", "immediate_consumption", "basic_needs"]
        },
        "source": {
          "type": "string",
          "description": "Data source (e.g., Serasa/2024)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "investment_behavior": {
      "type": "object",
      "description": "User’s typical investment behavior classification.",
      "field_origin": "derived",
      "properties": {
        "value": {
          "type": "string",
          "enum": ["diversified", "basic", "none"]
        },
        "source": {
          "type": "string",
          "description": "Data source (e.g., ANBIMA/2024)."
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "predicted_financial_risk_score": {
      "type": "number",
      "description": "AI-inferred risk score (0.0 = low risk, 1.0 = high risk), derived from income stability, debt levels, investments.",
      "minimum": 0.0,
      "maximum": 1.0,
      "example": 0.75,
      "field_origin": "inferred"
    },
    "inferred_digital_engagement": {
      "type": "string",
      "description": "AI-inferred level of digital financial engagement (low, medium, high).",
      "enum": ["low", "medium", "high"],
      "example": "high",
      "field_origin": "inferred"
    },
    "inferred_savings_behavior": {
      "type": "string",
      "description": "AI-inferred classification of personal savings behavior (disciplined, occasional, absent).",
      "enum": ["disciplined", "occasional", "absent"],
      "example": "disciplined",
      "field_origin": "inferred"
    }
  },
  "required": [
    "user_id",
    "segment_label",
    "philosophy",
    "monthly_income",
    "education_level",
    "occupation",
    "uses_traditional_bank",
    "uses_digital_bank",
    "uses_broker",
    "savings_frequency_per_month",
    "spending_behavior",
    "investment_behavior"
  ],
  "additionalProperties": false
}
